// Copyright Epic Games, Inc. All Rights Reserved.
// This file is automatically generated. Changes to this file may be overwritten.

using System;
using System.Runtime.InteropServices;

namespace Epic.OnlineServices.UI
{
	public sealed class UIInterface : Handle
	{
		public UIInterface(IntPtr innerHandle) : base(innerHandle)
		{
		}

		/// <summary>
		/// DEPRECATED! Use <see cref="AcknowledgeeventidApiLatest" /> instead.
		/// </summary>
		public const int AcknowledgecorrelationidApiLatest = AcknowledgeeventidApiLatest;

		/// <summary>
		/// The most recent version of the <see cref="AcknowledgeEventId" /> API.
		/// </summary>
		public const int AcknowledgeeventidApiLatest = 1;

		/// <summary>
		/// The most recent version of the <see cref="SetDisplayPreference" /> API.
		/// </summary>
		public const int SetdisplaypreferenceApiLatest = 1;

		/// <summary>
		/// The most recent version of the <see cref="GetToggleFriendsKey" /> API.
		/// </summary>
		public const int GettogglefriendskeyApiLatest = 1;

		/// <summary>
		/// The most recent version of the <see cref="SetToggleFriendsKey" /> API.
		/// </summary>
		public const int SettogglefriendskeyApiLatest = 1;

		/// <summary>
		/// The most recent version of the <see cref="AddNotifyDisplaySettingsUpdated" /> API.
		/// </summary>
		public const int AddnotifydisplaysettingsupdatedApiLatest = 1;

		/// <summary>
		/// The most recent version of the <see cref="GetFriendsVisible" /> API.
		/// </summary>
		public const int GetfriendsvisibleApiLatest = 1;

		/// <summary>
		/// The most recent version of the <see cref="HideFriends" /> API.
		/// </summary>
		public const int HidefriendsApiLatest = 1;

		/// <summary>
		/// The most recent version of the <see cref="ShowFriends" /> API.
		/// </summary>
		public const int ShowfriendsApiLatest = 1;

		/// <summary>
		/// ID representing a specific UI event.
		/// </summary>
		public const int EventidInvalid = 0;

		/// <summary>
		/// Opens the Social Overlay with a request to show the friends list.
		/// </summary>
		/// <param name="options">Structure containing the Epic Online Services Account ID of the friends list to show.</param>
		/// <param name="clientData">Arbitrary data that is passed back to you in the CompletionDelegate.</param>
		/// <param name="completionDelegate">A callback that is fired when the request to show the friends list has been sent to the Social Overlay, or on an error.</param>
		/// <returns>
		/// <see cref="Result.Success" /> If the Social Overlay has been notified about the request.
		/// <see cref="Result.InvalidParameters" /> If any of the options are incorrect.
		/// <see cref="Result.NotConfigured" /> If the Social Overlay is not properly configured.
		/// <see cref="Result.NoChange" /> If the Social Overlay is already visible.
		/// </returns>
		public void ShowFriends(ShowFriendsOptions options, object clientData, OnShowFriendsCallback completionDelegate)
		{
			var optionsInternal = Helper.CopyProperties<ShowFriendsOptionsInternal>(options);

			var completionDelegateInternal = new OnShowFriendsCallbackInternal(OnShowFriends);
			var clientDataAddress = IntPtr.Zero;
			Helper.AddCallback(ref clientDataAddress, clientData, completionDelegate, completionDelegateInternal);

			EOS_UI_ShowFriends(InnerHandle, ref optionsInternal, clientDataAddress, completionDelegateInternal);
			Helper.TryMarshalDispose(ref optionsInternal);
		}

		/// <summary>
		/// Hides the active Social Overlay.
		/// </summary>
		/// <param name="options">Structure containing the Epic Online Services Account ID of the browser to close.</param>
		/// <param name="clientData">Arbitrary data that is passed back to you in the CompletionDelegate.</param>
		/// <param name="completionDelegate">A callback that is fired when the request to hide the friends list has been processed, or on an error.</param>
		/// <returns>
		/// <see cref="Result.Success" /> If the Social Overlay has been notified about the request.
		/// <see cref="Result.InvalidParameters" /> If any of the options are incorrect.
		/// <see cref="Result.NotConfigured" /> If the Social Overlay is not properly configured.
		/// <see cref="Result.NoChange" /> If the Social Overlay is already hidden.
		/// </returns>
		public void HideFriends(HideFriendsOptions options, object clientData, OnHideFriendsCallback completionDelegate)
		{
			var optionsInternal = Helper.CopyProperties<HideFriendsOptionsInternal>(options);

			var completionDelegateInternal = new OnHideFriendsCallbackInternal(OnHideFriends);
			var clientDataAddress = IntPtr.Zero;
			Helper.AddCallback(ref clientDataAddress, clientData, completionDelegate, completionDelegateInternal);

			EOS_UI_HideFriends(InnerHandle, ref optionsInternal, clientDataAddress, completionDelegateInternal);
			Helper.TryMarshalDispose(ref optionsInternal);
		}

		/// <summary>
		/// Gets the friends overlay visibility.
		/// </summary>
		/// <param name="options">Structure containing the Epic Online Services Account ID of the friends Social Overlay owner.</param>
		/// <returns>
		/// 1 If the overlay is visible.
		/// </returns>
		public bool GetFriendsVisible(GetFriendsVisibleOptions options)
		{
			var optionsInternal = Helper.CopyProperties<GetFriendsVisibleOptionsInternal>(options);

			var funcResult = EOS_UI_GetFriendsVisible(InnerHandle, ref optionsInternal);
			Helper.TryMarshalDispose(ref optionsInternal);

			var funcResultReturn = Helper.GetDefault<bool>();
			Helper.TryMarshalGet(funcResult, out funcResultReturn);
			return funcResultReturn;
		}

		/// <summary>
		/// Register to receive notifications when the overlay display settings are updated.
		/// Newly registered handlers will always be called the next tick with the current state.
		/// @note must call RemoveNotifyDisplaySettingsUpdated to remove the notification.
		/// </summary>
		/// <param name="options">Structure containing information about the request.</param>
		/// <param name="clientData">Arbitrary data that is passed back to you in the NotificationFn.</param>
		/// <param name="notificationFn">A callback that is fired when the overlay display settings are updated.</param>
		/// <returns>
		/// handle representing the registered callback
		/// </returns>
		public ulong AddNotifyDisplaySettingsUpdated(AddNotifyDisplaySettingsUpdatedOptions options, object clientData, OnDisplaySettingsUpdatedCallback notificationFn)
		{
			var optionsInternal = Helper.CopyProperties<AddNotifyDisplaySettingsUpdatedOptionsInternal>(options);

			var notificationFnInternal = new OnDisplaySettingsUpdatedCallbackInternal(OnDisplaySettingsUpdated);
			var clientDataAddress = IntPtr.Zero;
			Helper.AddCallback(ref clientDataAddress, clientData, notificationFn, notificationFnInternal);

			var funcResult = EOS_UI_AddNotifyDisplaySettingsUpdated(InnerHandle, ref optionsInternal, clientDataAddress, notificationFnInternal);
			Helper.TryMarshalDispose(ref optionsInternal);

			Helper.TryAssignNotificationIdToCallback(clientDataAddress, funcResult);

			var funcResultReturn = Helper.GetDefault<ulong>();
			Helper.TryMarshalGet(funcResult, out funcResultReturn);
			return funcResultReturn;
		}

		/// <summary>
		/// Unregister from receiving notifications when the overlay display settings are updated.
		/// </summary>
		/// <param name="id">Handle representing the registered callback</param>
		public void RemoveNotifyDisplaySettingsUpdated(ulong id)
		{
			Helper.TryRemoveCallbackByNotificationId(id);
			EOS_UI_RemoveNotifyDisplaySettingsUpdated(InnerHandle, id);
		}

		/// <summary>
		/// Updates the current Toggle Friends Key. This key can be used by the user to toggle the friends
		/// overlay when available. The default value represents `Shift + F3` as `((int32_t)<see cref="KeyCombination.Shift" /> | (int32_t)<see cref="KeyCombination.F3" />)`.
		/// The provided key should satisfy <see cref="IsValidKeyCombination" />. The value <see cref="KeyCombination.None" /> is specially handled
		/// by resetting the key binding to the system default.
		/// <seealso cref="IsValidKeyCombination" />
		/// </summary>
		/// <param name="options">Structure containing the key combination to use.</param>
		/// <returns>
		/// <see cref="Result.Success" /> If the overlay has been notified about the request.
		/// <see cref="Result.InvalidParameters" /> If any of the options are incorrect.
		/// <see cref="Result.NotConfigured" /> If the overlay is not properly configured.
		/// <see cref="Result.NoChange" /> If the key combination did not change.
		/// </returns>
		public Result SetToggleFriendsKey(SetToggleFriendsKeyOptions options)
		{
			var optionsInternal = Helper.CopyProperties<SetToggleFriendsKeyOptionsInternal>(options);

			var funcResult = EOS_UI_SetToggleFriendsKey(InnerHandle, ref optionsInternal);
			Helper.TryMarshalDispose(ref optionsInternal);

			var funcResultReturn = Helper.GetDefault<Result>();
			Helper.TryMarshalGet(funcResult, out funcResultReturn);
			return funcResultReturn;
		}

		/// <summary>
		/// Returns the current Toggle Friends Key. This key can be used by the user to toggle the friends
		/// overlay when available. The default value represents `Shift + F3` as `((int32_t)<see cref="KeyCombination.Shift" /> | (int32_t)<see cref="KeyCombination.F3" />)`.
		/// </summary>
		/// <param name="options">Structure containing any options that are needed to retrieve the key.</param>
		/// <returns>
		/// A valid key combination which represent a single key with zero or more modifier keys.
		/// <see cref="KeyCombination.None" /> will be returned if any error occurs.
		/// </returns>
		public KeyCombination GetToggleFriendsKey(GetToggleFriendsKeyOptions options)
		{
			var optionsInternal = Helper.CopyProperties<GetToggleFriendsKeyOptionsInternal>(options);

			var funcResult = EOS_UI_GetToggleFriendsKey(InnerHandle, ref optionsInternal);
			Helper.TryMarshalDispose(ref optionsInternal);

			var funcResultReturn = Helper.GetDefault<KeyCombination>();
			Helper.TryMarshalGet(funcResult, out funcResultReturn);
			return funcResultReturn;
		}

		/// <summary>
		/// Determine if a key combination is valid. A key combinations must have a single key and at least one modifier.
		/// The single key must be one of the following: F1 through F12, Space, Backspace, Escape, or Tab.
		/// The modifier key must be one or more of the following: Shift, Control, or Alt.
		/// </summary>
		/// <param name="keyCombination">The key to test.</param>
		/// <returns>
		/// 1 if the provided key combination is valid.
		/// </returns>
		public bool IsValidKeyCombination(KeyCombination keyCombination)
		{
			var funcResult = EOS_UI_IsValidKeyCombination(InnerHandle, keyCombination);
			var funcResultReturn = Helper.GetDefault<bool>();
			Helper.TryMarshalGet(funcResult, out funcResultReturn);
			return funcResultReturn;
		}

		/// <summary>
		/// Define any preferences for any display settings.
		/// </summary>
		/// <param name="options">Structure containing any options that are needed to set</param>
		/// <returns>
		/// <see cref="Result.Success" /> If the overlay has been notified about the request.
		/// <see cref="Result.InvalidParameters" /> If any of the options are incorrect.
		/// <see cref="Result.NotConfigured" /> If the overlay is not properly configured.
		/// <see cref="Result.NoChange" /> If the preferences did not change.
		/// </returns>
		public Result SetDisplayPreference(SetDisplayPreferenceOptions options)
		{
			var optionsInternal = Helper.CopyProperties<SetDisplayPreferenceOptionsInternal>(options);

			var funcResult = EOS_UI_SetDisplayPreference(InnerHandle, ref optionsInternal);
			Helper.TryMarshalDispose(ref optionsInternal);

			var funcResultReturn = Helper.GetDefault<Result>();
			Helper.TryMarshalGet(funcResult, out funcResultReturn);
			return funcResultReturn;
		}

		/// <summary>
		/// Returns the current notification location display preference.
		/// </summary>
		/// <returns>
		/// The current notification location display preference.
		/// </returns>
		public NotificationLocation GetNotificationLocationPreference()
		{
			var funcResult = EOS_UI_GetNotificationLocationPreference(InnerHandle);
			var funcResultReturn = Helper.GetDefault<NotificationLocation>();
			Helper.TryMarshalGet(funcResult, out funcResultReturn);
			return funcResultReturn;
		}

		/// <summary>
		/// Lets the SDK know that the given UI event ID has been acknowledged and should be released.
		/// <seealso cref="Presence.JoinGameAcceptedCallbackInfo" />
		/// </summary>
		/// <returns>
		/// An <see cref="Result" /> is returned to indicate success or an error.
		/// <see cref="Result.Success" /> is returned if the UI event ID has been acknowledged.
		/// <see cref="Result.NotFound" /> is returned if the UI event ID does not exist.
		/// </returns>
		public Result AcknowledgeEventId(AcknowledgeEventIdOptions options)
		{
			var optionsInternal = Helper.CopyProperties<AcknowledgeEventIdOptionsInternal>(options);

			var funcResult = EOS_UI_AcknowledgeEventId(InnerHandle, ref optionsInternal);
			Helper.TryMarshalDispose(ref optionsInternal);

			var funcResultReturn = Helper.GetDefault<Result>();
			Helper.TryMarshalGet(funcResult, out funcResultReturn);
			return funcResultReturn;
		}

		[MonoPInvokeCallback]
		internal static void OnDisplaySettingsUpdated(IntPtr address)
		{
			OnDisplaySettingsUpdatedCallback callback = null;
			OnDisplaySettingsUpdatedCallbackInfo callbackInfo = null;
			if (Helper.TryGetAndRemoveCallback<OnDisplaySettingsUpdatedCallback, OnDisplaySettingsUpdatedCallbackInfoInternal, OnDisplaySettingsUpdatedCallbackInfo>(address, out callback, out callbackInfo))
			{
				callback(callbackInfo);
			}
		}

		[MonoPInvokeCallback]
		internal static void OnHideFriends(IntPtr address)
		{
			OnHideFriendsCallback callback = null;
			HideFriendsCallbackInfo callbackInfo = null;
			if (Helper.TryGetAndRemoveCallback<OnHideFriendsCallback, HideFriendsCallbackInfoInternal, HideFriendsCallbackInfo>(address, out callback, out callbackInfo))
			{
				callback(callbackInfo);
			}
		}

		[MonoPInvokeCallback]
		internal static void OnShowFriends(IntPtr address)
		{
			OnShowFriendsCallback callback = null;
			ShowFriendsCallbackInfo callbackInfo = null;
			if (Helper.TryGetAndRemoveCallback<OnShowFriendsCallback, ShowFriendsCallbackInfoInternal, ShowFriendsCallbackInfo>(address, out callback, out callbackInfo))
			{
				callback(callbackInfo);
			}
		}

		[DllImport(Config.BinaryName)]
		private static extern Result EOS_UI_AcknowledgeEventId(IntPtr handle, ref AcknowledgeEventIdOptionsInternal options);

		[DllImport(Config.BinaryName)]
		private static extern NotificationLocation EOS_UI_GetNotificationLocationPreference(IntPtr handle);

		[DllImport(Config.BinaryName)]
		private static extern Result EOS_UI_SetDisplayPreference(IntPtr handle, ref SetDisplayPreferenceOptionsInternal options);

		[DllImport(Config.BinaryName)]
		private static extern int EOS_UI_IsValidKeyCombination(IntPtr handle, KeyCombination keyCombination);

		[DllImport(Config.BinaryName)]
		private static extern KeyCombination EOS_UI_GetToggleFriendsKey(IntPtr handle, ref GetToggleFriendsKeyOptionsInternal options);

		[DllImport(Config.BinaryName)]
		private static extern Result EOS_UI_SetToggleFriendsKey(IntPtr handle, ref SetToggleFriendsKeyOptionsInternal options);

		[DllImport(Config.BinaryName)]
		private static extern void EOS_UI_RemoveNotifyDisplaySettingsUpdated(IntPtr handle, ulong id);

		[DllImport(Config.BinaryName)]
		private static extern ulong EOS_UI_AddNotifyDisplaySettingsUpdated(IntPtr handle, ref AddNotifyDisplaySettingsUpdatedOptionsInternal options, IntPtr clientData, OnDisplaySettingsUpdatedCallbackInternal notificationFn);

		[DllImport(Config.BinaryName)]
		private static extern int EOS_UI_GetFriendsVisible(IntPtr handle, ref GetFriendsVisibleOptionsInternal options);

		[DllImport(Config.BinaryName)]
		private static extern void EOS_UI_HideFriends(IntPtr handle, ref HideFriendsOptionsInternal options, IntPtr clientData, OnHideFriendsCallbackInternal completionDelegate);

		[DllImport(Config.BinaryName)]
		private static extern void EOS_UI_ShowFriends(IntPtr handle, ref ShowFriendsOptionsInternal options, IntPtr clientData, OnShowFriendsCallbackInternal completionDelegate);
	}
}